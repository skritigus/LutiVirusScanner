# Содержание
1 [Диаграмма классов](#classes)  
2 [Диаграммы активностей](#activities)  
2.1 [Проверка файлов/папки на вирусы](#scan_activity)  
2.2 [Просмотр результатов сканирования](#report_activity)  
2.3 [Настройка фильтров](#filter_activity)  
3 [Диаграммы последовательностей](#sequences)  
3.1 [Проверка файлов/папки на вирусы](#acan_sequence)  
3.2 [Просмотр результатов сканирования](#report_sequence)  
3.3 [Настройка фильтров](#filter_sequence)  
4 [Диаграммы состояний](#states)  
4.1 [Проверка файлов/папки на вирусы](#scan_state)  
4.2 [Просмотр результатов сканирования](#report_state)  
4.3 [Настройка фильтров](#filter_state)  
5 [Диаграмма компонентов](#components)  
6 [Диаграмма использований](#use_case)  
7 [Глоссарий](#glossary)  
8 [Поток событий](#flow_of_events)  
8.1 [Ввод API-ключа](#api_key_event)  
8.2 [Выбор файла или папки для проверки](#scan_event)  
8.3 [Сохранение детального отчёта](#report_event)  
8.4 [Настройка фильтров проверки](#filter_event)  

<a name="classes"/>

# 1 Диаграмма классов

![Диаграмма классов](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/ClassDiagram.png)

<a name="activities"/>

# 2 Диаграммы активностей

<a name="scan_activity"/>

## 2.1 Проверка файлов/папки на вирусы

![Диаграмма активности сканирования файлов](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/ScanActivityDiagram.png)

<a name="report_activity"/>

## 2.2 Просмотр результатов сканирования

![Диаграмма активности просмотра результатов](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/ReportActivityDiagram.png)

<a name="filter_activity"/>

## 2.3 Настройка фильтров

![Диаграмма активности настройки фильтров](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/FilterActivityDiagram.png)

<a name="sequences"/>

# 3 Диаграммы последовательностей

<a name="scan_sequence"/>

## 3.1 Проверка файлов/папки на вирусы

![Диаграмма последовательности сканирования файлов](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/ScanSequenceDiagram.png)

<a name="report_sequence"/>

## 3.2 Просмотр результатов сканирования

![Диаграмма последовательности просмотра результатов](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/ReportSequenceDiagram.png)

<a name="add_track_sequence"/>

## 3.3 Настройка фильтров

![Диаграмма последовательности настройки фильтров](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/FilterSequenceDiagram.png)

<a name="states"/>

# 4 Диаграммы состояний

<a name="scan_state"/>

## 4.1 Проверка файлов/папки на вирусы

![Диаграмма состояний сканирования файлов](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/ScanStateDiagram.png)

<a name="report_state"/>

## 4.2 Просмотр результатов сканирования

![Диаграмма состояний просмотра результатов](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/ReportStateDiagram.png)

<a name="filter_state"/>

## 4.3 Настройка фильтров

![Диаграмма состояний настройки фильтров](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/FilterStateDiagram.png)

<a name="components"/>

# 5 Диаграмма компонентов

![Диаграмма компонентов](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/ComponentDiagram.png)

<a name="use_case"/>

# 6 Диаграмма использований

![Диаграмма использований](https://github.com/skritigus/LutiVirusScanner/blob/main/docs/diagrams/images/UseCaseDiagram.png)

<a name="glossary"/>

# 7 Глоссарий


| Термин                        | Определение                                                                                                                 |
|:---|:---|
| API-ключ                  | Уникальный токен пользователя, необходимый для доступа к VirusTotal API												                                                                               |
| Отчёт | Информация о сканировании, включающая результаты всех антивирусных движков   									                                                                |
| Фильтр                    | Правило, ограничивающее список файлов для сканирования 									                                                             |  
| VirusTotal API           | Внешний сервис для анализа файлов |
| Контроллер                         | Слой, управляющий действиями и логикой взаимодействия между UI и сервисами 													                                                                                     |

<a name="flow_of_events"/>

# 8. Поток событий

<a name="api_key_event"/>

## 8.1 — Ввод API-ключа

**Описание.** Пользователь вводит персональный API-ключ для работы с сервисом VirusTotal.	
**Предусловия.** Приложение запущено впервые или API-ключ отсутствует/некорректен.	
**Основной поток.**
1. Приложение отображает окно входа в приложение и запрашивает ввод API-ключа.
2. Пользователь вводит ключ в поле.
3. Пользователь нажимает «Confirm».
4. Приложение проверяет валидность ключа через запрос к VirusTotal. Если проверка не пройдена, выполняется альтернативный поток А1. Если соединение отсутствует, выполняется альтернативный поток А2.
5. Приложение скрывает окно входа и открывает главное окно приложения.
6. Вариант использования завершается.

**Альтернативные поток А1.**
1. Приложение выводит окно с сообщением о некорректном API-ключе.
2. Возврат к п.2 основного потока.

**Альтернативные поток А2.**
1. Приложение выводит окно с сообщением об отсутствии подключения.
2. Возврат к п.2 основного потока.

Постусловие:
Ключ сохранён и приложение переходит к главному окну.

<a name="scan_event"/>

## 8.2 — Выбор файла или папки для проверки

**Описание.** Пользователь выбирает путь для проверки на вредоносное ПО.	
**Основной поток.**
1. Приложение отображает главное окно программы.
2. Пользователь нажимает «Choose file or directory».
3. Приложение открывает системный диалог выбора пути.
4. Пользователь подтверждает выбор.
5. Приложение проверяет наличие файлов в папке. Если папка пуста, выполняется альтернативный поток А3.
6. Приложение проверяет валидность ключа через запрос к VirusTotal. Если проверка не пройдена, выполняется альтернативный поток А4. Если соединение отсутствует, выполняется альтернативный поток А5.
7. Приложение проводит фильтрацию выбранных файлов согласно заданным пользователем фильтров.
8. Приложение отправляет запрос на сканирование этих файлов.
9. Приложение отправляет запрос на получение отчетов о сканировании файлов.
10. Приложение выводит в главном окне результаты сканирования файлов.
11. Вариант использования завершается.

**Альтернативные поток А3.**
1. Приложение выводит окно с сообщением о выборе папки без каких-либо файлов.
2. Возврат к п.2 основного потока.

**Альтернативные поток А4.**
1. Приложение выводит окно с сообщением о некорректном API-ключе.
2. Возврат к п.2 основного потока.

**Альтернативные поток А5.**
1. Приложение выводит окно с сообщением об отсутствии подключения.
2. Возврат к п.2 основного потока.

<a name="report_event"/>

## 8.3 — Сохранение детального отчёта

**Описание.** Пользователь изучает детальную информацию по анализу файла.	
**Предусловия.** Анализ файла был выполнен.	
**Основной поток.**
1. Приложение отображает главное окно программы.
2. Пользователь нажимает на файл в списке проанализированных файлов.
3. Приложение открывает окно с детальным отчётом.
4. Пользователь нажимает на кнопку "Save".
5. Приложение открывает системный диалог выбора пути для сохранения отчета.
6. Вариант использования завершается.

<a name="filter_event"/>

## 8.4 — Настройка фильтров проверки

**Описание.** Пользователь устанавливает критерии отбора файлов.	
**Предусловия.** Пользователь нажал на кнопку "Filter settings" в главном окне.	
**Основной поток.**
1. Приложение отображает окно с текущими фильтрами.
2. Пользователь указывает расширения или названия файлов для фильтрации.
3. Пользователь нажимает на кнопку "Save".
4. Приложение проверяет новые фильтры. Если проверка не пройдена, выполняется альтернативный поток А6.
5. Приложение сохраняет новые фильтры в специальный файл.
6. Приложение закрывает окно с фильтрами.
7. Вариант использования завершается.

**Альтернативный поток А6**

1. Приложение выводит окно с сообщением о некорректно введенных фильтрах.
2. Возврат к п.2 основного потока.
